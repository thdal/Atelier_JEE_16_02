<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
 <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
    
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Liste des utilisateurs</title>
</head>
<body>
<div class="container">
<%@include file="../commons/MenuNavBar.jsp" %>
<h1>Liste des utilisateurs</h1>
<hr> 										 
<table>
   <thead>
       <tr>
           <th>Numero</th>       
           <th>Mail</th>
           <th>Validé</th>  
           <th>Statut</th>           
           <th>Supprimer</th>           
                    
       </tr>
   </thead>
   <tbody> 
    <c:forEach items="${UserList}" var="u" varStatus="loop">   
	    <tr>
	    	<td><c:out value="${loop.index}"/>
	    	</td>
	        <td><c:out value="${u.mail}"/></td>
	        <td>
	        <c:if test="${u.validated}">
	        	Non
	        </c:if>
	        
	        <c:out value="${u.validated}"/>
	        
	        </td> 
	        <td>    
	        
			
			 <!-- 
				 <div class="input-field col s12">
				    <select>
				    	<option disabled selected> -- Statut -- </option>
				      <option value="0">Activer</option>
				      <option value="1">Désactiver</option>
				    </select>
				  </div> -->   
	        </td>        
	        <td>
	        <form  action="user?action=delete" method="post">
				<input type="hidden" name="userId" value="${u.id}"/>
				<button style="cursor:pointer" class="btn waves-effect waves-light red" type="submit" name="action">Supprimer</button>
			</form>
	        </td>            
	    </tr>
	</c:forEach>	    
    </tbody>
 </table> 

</div>
</body>
<script>
document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('select');
    var instances = M.FormSelect.init(elems);
});
</script>
</html>